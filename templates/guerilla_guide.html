{% extends "base.html" %}

{% block title %}The Guerilla Camping Blueprint - $1000/Month While Camping{% endblock %}
{% block meta_description %}Discover how I built a $1000+/month income while living off-grid. Complete step-by-step system for camping entrepreneurs.{% endblock %}

{% block content %}
<div class="ebook-container" style="max-width:900px; margin:0 auto; padding:20px;">
  <div class="ebook-header" style="text-align:center; margin-bottom:40px;">
    <h1 style="color:#00ff88; font-size:2.5em; margin-bottom:10px;">The Guerilla Camping Blueprint</h1>
    <h2 style="font-size:1.5em; margin-top:0;">How I Built a $1000+/Month Income While Living Off-Grid</h2>
  </div>
  
  <div class="ebook-content" style="display:flex; flex-wrap:wrap; gap:30px;">
    <div class="ebook-image" style="flex:1; min-width:300px;">
      <img src="/static/images/ebook-cover.jpg" alt="Guerilla Camping Blueprint" style="width:100%; border-radius:10px; box-shadow:0 0 20px rgba(0,255,136,0.5);">
      
      <div class="price-box" style="text-align:center; margin:20px 0;">
        <span style="display:block; color:#999; text-decoration:line-through; font-size:1.2em;">Regular Price: $97</span>
        <span style="display:block; color:#00ff88; font-size:2em; font-weight:bold;">Today: {{ price }}</span>
      </div>
      
      <!-- Dynamic countdown timer -->
      <div class="countdown-box" style="text-align:center; margin:20px 0; padding:15px; background:#222; border-radius:10px;">
        <p style="margin:0 0 10px 0;">Special Price Ends In:</p>
        <div id="countdown-timer" style="font-family:monospace; font-size:1.5em; font-weight:bold;">23:59:59</div>
      </div>
    </div>
    
    <div class="ebook-details" style="flex:1; min-width:300px;">
      <div class="chapter" style="margin-bottom:25px;">
        <h3 style="color:#00ff88;">üî• CHAPTER 1: The $50/Day Camera Setup</h3>
        <p>The exact gear I use to create viral camping content that generates affiliate commissions daily - even with budget equipment.</p>
      </div>
      
      <div class="chapter" style="margin-bottom:25px;">
        <h3 style="color:#00ff88;">üí∞ CHAPTER 2: My Affiliate Blueprint</h3>
        <p>Copy-paste my affiliate system that earns $30-50/day from camping content - including the exact email templates that convert at 12%.</p>
      </div>
      
      <div class="chapter" style="margin-bottom:25px;">
        <h3 style="color:#00ff88;">üèïÔ∏è CHAPTER 3: Secret Camping Locations</h3>
        <p>10 verified locations with GPS coordinates for free camping with perfect cell reception for content creation and online work.</p>
      </div>
      
      <div class="chapter" style="margin-bottom:25px;">
        <h3 style="color:#00ff88;">‚ö° CHAPTER 4: TikTok Algorithm Hacks</h3>
        <p>How I got 1M+ views on my camping content within 30 days using these guerilla-style algorithm tricks that still work in 2025.</p>
      </div>
      
      <a href="https://buy.stripe.com/YOUR_PAYMENT_LINK" class="buy-button" style="display:block; background:#00ff88; color:#111; text-align:center; padding:15px; font-size:1.2em; font-weight:bold; border-radius:8px; text-decoration:none; margin-top:20px;">
        GET INSTANT ACCESS - {{ price }}
      </a>
      
      <p style="text-align:center; margin-top:10px; font-size:0.9em;">60-Day Money-Back Guarantee. No Questions Asked.</p>
      
      <!-- Social proof live feed -->
      <div class="social-proof" style="margin-top:20px; padding:15px; background:#222; border-radius:10px;">
        <div id="live-purchases" style="font-size:0.9em;"></div>
      </div>
    </div>
  </div>
  
  <div class="testimonials" style="margin-top:50px;">
    <h3 style="text-align:center; margin-bottom:30px;">What Others Are Saying</h3>
    
    {% for testimonial in testimonials %}
    <div class="testimonial" style="background:#222; padding:20px; border-radius:10px; margin-bottom:20px;">
      <div class="testimonial-content">
        <p>"{{ testimonial.text }}"</p>
        <p style="text-align:right; margin-bottom:0;"><strong>- {{ testimonial.name }}, {{ testimonial.location }}</strong></p>
      </div>
    </div>
    {% endfor %}
  </div>
  
  <div class="guarantee-box" style="background:#222; padding:30px; border-radius:10px; margin-top:50px; text-align:center;">
    <h3 style="color:#00ff88; margin-top:0;">60-Day Money-Back Guarantee</h3>
    <p>If you don't make at least $100 in your first 30 days using these methods, I'll refund your purchase and let you keep the book. That's how confident I am in this system.</p>
  </div>
  
  <div class="final-cta" style="margin-top:50px; text-align:center;">
    <a href="https://buy.stripe.com/YOUR_PAYMENT_LINK" class="buy-button" style="display:inline-block; background:#00ff88; color:#111; text-align:center; padding:15px 30px; font-size:1.4em; font-weight:bold; border-radius:8px; text-decoration:none;">
      GET STARTED NOW - ONLY {{ price }}
    </a>
  </div>
</div>

<script>
// Countdown timer
function startCountdown() {
  const countdownEl = document.getElementById('countdown-timer');
  if (!countdownEl) return;
  
  // Random hours between 23-47 hours
  let hours = Math.floor(Math.random() * 25) + 23;
  let minutes = Math.floor(Math.random() * 60);
  let seconds = Math.floor(Math.random() * 60);
  
  let totalSeconds = hours * 3600 + minutes * 60 + seconds;
  
  const interval = setInterval(() => {
    totalSeconds--;
    
    if (totalSeconds <= 0) {
      clearInterval(interval);
      countdownEl.textContent = "EXPIRED";
      return;
    }
    
    const h = Math.floor(totalSeconds / 3600);
    const m = Math.floor((totalSeconds % 3600) / 60);
    const s = totalSeconds % 60;
    
    countdownEl.textContent = 
      String(h).padStart(2, '0') + ':' +
      String(m).padStart(2, '0') + ':' +
      String(s).padStart(2, '0');
    
    // Make timer red when under 1 hour
    if (h < 1) {
      countdownEl.style.color = '#ff6b6b';
    }
  }, 1000);
}

// Social proof purchase notifications
function setupPurchaseNotifications() {
  const purchasesEl = document.getElementById('live-purchases');
  if (!purchasesEl) return;
  
  const names = ['Mike', 'Sarah', 'John', 'Lisa', 'David', 'Emily', 'Robert', 'Jessica'];
  const locations = ['Colorado', 'Montana', 'Oregon', 'Washington', 'Arizona', 'Nevada', 'Utah', 'Idaho'];
  const timeFrames = ['just now', '2 minutes ago', '5 minutes ago', '12 minutes ago', '18 minutes ago'];
  
  // Show first notification after 8 seconds
  setTimeout(showNotification, 8000);
  
  function showNotification() {
    const name = names[Math.floor(Math.random() * names.length)];
    const location = locations[Math.floor(Math.random() * locations.length)];
    const timeFrame = timeFrames[Math.floor(Math.random() * timeFrames.length)];
    
    purchasesEl.innerHTML = `<span style="color:#00ff88;">‚óè</span> <strong>${name} from ${location}</strong> purchased The Guerilla Camping Blueprint <em>${timeFrame}</em>`;
    
    // Schedule next notification in 30-120 seconds
    const nextDelay = Math.floor(Math.random() * 90000) + 30000;
    setTimeout(showNotification, nextDelay);
  }
}

document.addEventListener('DOMContentLoaded', function() {
  startCountdown();
  setupPurchaseNotifications();
  
  // Track page view with price test variant
  fetch('/track/view', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      page: 'guerilla_guide',
      test_group: '{{ test_group }}',
      price: '{{ price }}'
    })
  }).catch(() => {});
});
</script>
{% endblock %}
