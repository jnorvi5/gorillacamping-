{% extends "base.html" %}

{% block title %}Best Camping Gear for Guerilla Campers | GorillaCamping.site{% endblock %}
{% block meta_description %}Hand-picked, field-tested camping gear for budget, utility, and reliability. Perfect for guerilla-style adventurers!{% endblock %}

{% block content %}
  <div class="gear-grid" id="gear-list">
    <div>Loading gear...</div>
  </div>
{% endblock %}

{% block extra_scripts %}
<script>
fetch('/api/gear')
  .then(res => res.json())
  .then(gear_items => {
    const grid = document.getElementById('gear-list');
    grid.innerHTML = '';
    gear_items.forEach(gear => {
      const div = document.createElement('div');
      div.className = "product-card";
      div.innerHTML = `
        <img src="${gear.image}" alt="${gear.name}" loading="lazy">
        <h3>${gear.name}</h3>
        <div class="price">
          ${gear.old_price ? `<del>${gear.old_price}</del> ` : ''}<strong>${gear.price}</strong>
          ${gear.savings ? `<span class="savings">${gear.savings}</span>` : ''}
        </div>
        <p>${gear.description}</p>
        <a href="/affiliate/${gear.affiliate_id}" class="cta-button" target="_blank" rel="noopener sponsored">GET DEAL â†’</a>
      `;
      grid.appendChild(div);
    });
  })
  .catch(() => {
    document.getElementById('gear-list').innerHTML = '<div>Error loading gear.</div>';
  });
</script>
{% endblock %}
