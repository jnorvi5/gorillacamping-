{% extends "base.html" %}

{% block title %}Gorilla Camping - Off-Grid Camping, Gear & Guerilla Wisdom{% endblock %}
{% block meta_description %}Guerilla-style camping guides, gear reviews, and off-grid living tips.{% endblock %}

{% block head %}
  {{ super() }}
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://gorillacamping.azurewebsites.net" crossorigin>
{% endblock %}

{% block content %}
    <section class="text-center">
      <h2>Unconventional Camping for Unconventional People</h2>
      <p>
        Guerilla Camping is for the offbeat, the off-grid, the ones who know how to make a little go a long way. Learn how to thrive outdoors, side hustle, and live your own way—with advice and gear that actually works.
      </p>
    </section>
    <div class="product-grid">
      <div class="product-card">
        <img src="/img/logo.png" alt="Jackery Explorer 240">
        <h3>Jackery Explorer 240</h3>
        <div class="price"><del>$299.99</del> <strong>$199.99</strong></div>
        <p>Keeps my laptop, phone and lights running for days. Paid for itself with just 2 viral videos from camp.</p>
        <a href="/affiliate/jackery-explorer-240" class="cta-button">VIEW DEAL →</a>
      </div>
      <div class="product-card">
        <img src="/img/guerilla_mascot.png" alt="LifeStraw Water Filter">
        <h3>LifeStraw Water Filter</h3>
        <div class="price"><del>$19.95</del> <strong>$14.96</strong></div>
        <p>Essential survival gear that filters 99.9999% of waterborne bacteria. My #1 affiliate earner!</p>
        <a href="/affiliate/lifestraw-filter" class="cta-button">GET DEAL →</a>
      </div>
      <div class="product-card">
        <img src="/img/products/4patriots.jpg" alt="4Patriots Emergency Food Kit">
        <h3>4Patriots Emergency Food Kit</h3>
        <div class="price"><del>$47.00</del> <strong>$27.00</strong></div>
        <p>72-hour kit, 25-year shelf life, actually tastes good. 25% commission vs Amazon's 3%.</p>
        <a href="/affiliate/4patriots-food" class="cta-button">GET DEAL →</a>
      </div>
    </div>
    <section class="chat-section">
      <h2>Join the Guerilla Tribe</h2>
      <form id="newsletter-form" autocomplete="off">
        <label for="newsletter-email">Get my secret money map for free. No spam, just the best off-grid hacks, gear deals, and ways to camp for profit.</label>
        <input type="email" id="newsletter-email" name="email" placeholder="Your email..." required>
        <button type="submit" class="cta-button">GET FREE ACCESS →</button>
        <div id="newsletter-status"></div>
      </form>
    </section>
    <section>
      <h2>Who is Guerilla the Gorilla?</h2>
      <div class="about-guerilla">
        <img src="/img/guerilla_mascot.png" alt="Guerilla the Gorilla" class="guerilla-mascot">
        <div>
          <p>I'm Guerilla—the rough-around-the-edges, off-grid camping expert who actually lives this life. I teach you how to camp on a budget, fix your own gear, and hustle while you travel. Ask me anything in the chat bubble or check out the blog for my latest hacks.</p>
          <ul>
            <li>Army vet, van lifer, and full-time nomad</li>
            <li>Guerilla-style: improvise, adapt, overcome</li>
            <li>Not family-friendly, but always authentic</li>
            <li>Only recommend gear I actually use</li>
          </ul>
        </div>
      </div>
    </section>
{% endblock %}

{% block extra_scripts %}
  <script>
    document.getElementById('newsletter-form').onsubmit = async function(e){
      e.preventDefault();
      const email = document.getElementById('newsletter-email').value;
      const status = document.getElementById('newsletter-status');
      status.textContent = "Subscribing...";
      try {
        const resp = await fetch('/api/subscribe', {
          method: "POST",
          headers: { 'Content-Type': "application/json" },
          body: JSON.stringify({ email })
        });
        const result = await resp.json();
        if(result.success) {
          status.style.color = "#00ff88";
          status.textContent = "You're in! Check your email for the secret map.";
        } else {
          status.style.color = "#ff5544";
          status.textContent = result.error || "Could not subscribe. Try another email?";
        }
      } catch {
        status.style.color = "#ff5544";
        status.textContent = "Network error. Try again!";
      }
    }
  </script>
{% endblock %}
